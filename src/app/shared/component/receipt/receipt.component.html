<div class="max-w-2xl mx-auto bg-white rounded-lg">
  <!-- Header -->
  <div class="bg-indigo-500 text-white flex justify-between p-4 rounded-t-lg">
    <h1 class="text-xl font-bold">رسید سفارش</h1>
    <img
      src="/images/logo.png"
      alt="logo"
      width="100"
      class="inline-block"
    />
  </div>

  <!-- Customer Info -->
  <div class="flex p-4 justify-between items-center">
    <span class="text-gray-800"><strong>{{customerName}}</strong></span>
    <span class="text-sm text-gray-700 mt-2">{{ formatter.format(today) }}</span>
  </div>

  <!-- Order Details -->
  <div class="p-4 border-t border-gray-200">
    <h2 class="text-lg font-semibold mb-3 text-gray-700">جزئیات سفارش</h2>
    <table class="w-full text-right border-collapse">
      <thead>
      <tr class="border-b">
        <th class="py-2 text-sm text-gray-600"></th>
        <th class="py-2 text-sm text-gray-600">محصول</th>
        <th class="py-2 text-sm text-gray-600 text-end">قیمت</th>
      </tr>
      </thead>
      <tbody>
        @for (item of selectedProducts; track $index) {
          <tr class="border-b">
            <td class="py-2">
              <product-image-container [imageSrc]="item.product.image"></product-image-container>
            </td>
            <td class="py-2">
              <strong class="text-xs text-gray-700">{{item.product.name}}</strong><br>
              <div class="text-xs text-gray-500">
                <span>تعداد: </span>
                <span>{{item.selectedQuantity}} | </span>
                <span>رنگ: </span>
                <span> {{item.color.label}} | </span>
                <span>سایز: </span>
                <span> {{item.size.label}}</span>
              </div>
            </td>
            <td class="py-2 text-sm text-gray-800 text-end">{{item.sellingUnitPrice | number}} <currency-wrapper></currency-wrapper></td>
          </tr>
        }
      </tbody>
    </table>
  </div>

  <!-- Pricing Summary -->
  <div class="p-4">
    <div class="flex justify-between text-gray-700 mb-2">
      <span>مجموع:</span>
      <span>{{ totalOrderPrice | number }} <currency-wrapper></currency-wrapper></span>
    </div>
    <div class="flex justify-between text-gray-700 mb-2">
      <span>هزینه ارسال:</span>
      <span>{{ shippingPrice | number }} <currency-wrapper></currency-wrapper></span>
    </div>
    @if (discount > 0) {
      <div class="flex justify-between text-gray-700 mb-2">
        <span>تخفیف:</span>
        <span>{{ discount | number }} <currency-wrapper></currency-wrapper></span>
      </div>
    }
    <div class="flex justify-between text-gray-900 font-bold border-t border-gray-300 pt-2">
      <span>جمع کل:</span>
      <span>{{ customerPayment | number }} <currency-wrapper></currency-wrapper></span>
    </div>
  </div>

  <!-- Address -->
  <div class="p-4 bg-gray-50 border-t border-gray-200">
    <div class="mb-3">
      <h3 class="text-sm font-semibold text-gray-700">آدرس ارسال:</h3>
      <p class="text-sm text-gray-600">{{address}}</p>
    </div>
  </div>

  <!-- Footer -->
  <div class="p-4 text-center text-gray-700">
    ازینکه ما رو انتخاب کردین، متشکریم <strong class="text-rose-500">&#10084;</strong>
  </div>
</div>
